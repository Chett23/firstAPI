(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){},25:function(e,t,n){e.exports=n(39)},30:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(21),l=n.n(i),o=(n(30),n(6)),c=n(7),s=n(9),u=n(8),m=n(10),d=(n(19),n(13)),h=n(2),p=n(11),f=function(e){return r.a.createElement("button",e,e.children)},y=function(){return new Promise(function(e,t){fetch("https://shop-v1-helio.herokuapp.com/items").then(function(t){e(t.json())}).catch(t)})},g=function(e){return new Promise(function(t,n){fetch("https://shop-v1-helio.herokuapp.com/items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}).then(function(e){t(e)}).catch(n)})},E=function(e){return new Promise(function(t,n){fetch("https://shop-v1-helio.herokuapp.com/items/".concat(e),{method:"DELETE",credentials:"include"}).then(function(e){t(e)}).catch(n)})},v=function(e){return new Promise(function(t,n){fetch("https://shop-v1-helio.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then(function(e){t(e.json())}).catch(function(e){n(e)})})},w=function(){return new Promise(function(e,t){fetch("https://shop-v1-helio.herokuapp.com/loggout",{metehod:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(){localStorage.removeItem("user"),e()}).catch(function(e){return t(e)})})},x=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],nameValue:"",priceValue:"",imageValue:"",edit:!1,itemToEdit:"",user:null,loading:!0},n.onSubmit=function(e){if(e.preventDefault(),n.state.user){var t={name:n.state.nameValue,price:n.state.priceValue,image:n.state.imageValue};!0===n.state.edit&&(t._id=n.state.itemToEdit),g(t).then(function(){y().then(function(e){n.setState({items:e,nameValue:"",priceValue:"",imageValue:"",edit:!1,itemToEdit:""})})})}else alert("You do not have the authorization, please sign in.")},n.logout=function(){return function(){localStorage.removeItem("user"),w()}},n.editItemInInventory=function(e){return function(){y().then(function(t){var a=t.findIndex(function(t){return t.name===e.name});n.setState({edit:!0,itemToEdit:t[a]._id,nameValue:t[a].name,priceValue:t[a].price,imageValue:t[a].image})})}},n.removeFromInventory=function(e){return function(){E(e._id).then(function(){y().then(function(e){return n.setState({items:e})})})}},n.returnToAdd=function(){return n.setState({edit:!1,itemToEdit:"",nameValue:"",priceValue:"",imageValue:""})},n.handleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));t?y().then(function(n){e.setState({user:t,loading:!1,items:n})}):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return this.state.loading||this.state.user?r.a.createElement("div",{style:{display:"flex",lexDirection:"row",height:"100%",width:"90%",margin:"0 auto"}},r.a.createElement("div",{style:{width:"50%",margin:"2%"}},!0===this.state.edit?r.a.createElement("h2",{style:{textAlign:"center"}},"Edit Item in Inventory"):r.a.createElement("h2",{style:{textAlign:"center"}},"Add Item to Inventory"),r.a.createElement("form",{onSubmit:this.onSubmit,style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"10px"}},r.a.createElement("div",{style:{width:"20%"}},r.a.createElement("label",null,"Name: ")),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement("input",{type:"text",name:"nameValue",value:this.state.nameValue,onChange:this.handleChange,placeholder:"Item Name",style:{width:"100%"}}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"10px"}},r.a.createElement("div",{style:{width:"20%"}},r.a.createElement("label",null,"Price: ")),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement("input",{type:"text",name:"priceValue",value:this.state.priceValue,onChange:this.handleChange,placeholder:"Item Price",style:{width:"100%"}}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"10px"}},r.a.createElement("div",{style:{width:"20%"}},r.a.createElement("label",null,"Image Url: ")),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement("input",{type:"text",name:"imageValue",value:this.state.imageValue,onChange:this.handleChange,placeholder:"Item Url",style:{width:"100%"}}))),!0===this.state.edit?r.a.createElement("div",null,r.a.createElement(f,{type:"submit",style:{width:"70%"}},"Edit Item"),r.a.createElement(f,{onClick:this.returnToAdd,style:{width:"30%"}},"Return to add")):r.a.createElement(f,{type:"submit"},"Submit"))),r.a.createElement("div",{style:{width:"50%",margin:"2%"}},r.a.createElement("h2",{style:{textAlign:"center"}},"Current Inventory"),r.a.createElement("ul",null,this.state.items.map(function(t,n){return r.a.createElement("li",{key:n,style:{margin:"5px 0px"}},"Name: ".concat(t.name,", Price: ").concat(t.price,", Id: ").concat(t._id),r.a.createElement(f,{onClick:e.editItemInInventory(t),style:{margin:"0px 0px 0px 10px"}},"Edit"),r.a.createElement(f,{onClick:e.removeFromInventory(t),style:{margin:"0px 0px 0px 10px"}},"Remove"))})),r.a.createElement(f,{onClick:this.logout(),style:{width:"100%"}},"Loggout"))):r.a.createElement(h.a,{to:"/admin/login"})}}]),t}(a.Component),b=n(24),S=function(e){var t=e.items,n=e.functionality,a=e.title,i=e.btnValue,l=e.style;return r.a.createElement("div",{style:{borderLeft:"1px solid black",padding:"20px"}},r.a.createElement("h3",{style:{textAlign:"center",width:"100%"}},a),r.a.createElement("ul",{style:Object(b.a)({display:"flex",flexFlow:"row wrap",listStyle:"none"},l)},t.length>0?t.map(function(e,t){return r.a.createElement("li",{key:t,style:{width:"150px",height:"250px",border:"1px solid lightGrey",margin:"5px",backgroundColor:"rgb(200,200,200)",display:"flex",flexDirection:"column",justifyContent:"space-between"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("strong",null,e.name)),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"150px",height:"150px"},src:e.image,alt:""})),r.a.createElement("div",null,"Cart"!==a?"Price: ".concat(e.price):"Price: $".concat((e.price*e.qty).toFixed(2))),r.a.createElement("div",null,"Cart"===a&&"Quantity: ".concat(e.qty)),r.a.createElement(f,{onClick:n(e),style:{backgroundColor:"rgb(160,160,160)",height:"30px",cursor:"pointer"}},i))}):"Cart"===a?r.a.createElement("strong",{style:{width:"100%",textAlign:"center"}},"There is nothing in your Cart."):r.a.createElement("strong",{style:{width:"100%",textAlign:"center"}},"There is nothing in your Inventory.")))},C=function(){return new Promise(function(e,t){fetch("https://shop-v1-helio.herokuapp.com/cart").then(function(t){e(t.json())}).catch(t)})},k=function(e){return new Promise(function(t,n){fetch("https://shop-v1-helio.herokuapp.com/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){t(e)}).catch(n)})},O=function(e){return new Promise(function(t,n){fetch("https://shop-v1-helio.herokuapp.com/cart/".concat(e),{method:"DELETE"}).then(function(e){t(e)}).catch(n)})},j=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={cart:[],items:[]},n.addToCart=function(e){return function(){k(e).then(function(){C().then(function(e){return n.setState({cart:e})})})}},n.removeFromCart=function(e){return function(){O(e._id).then(function(){C().then(function(e){return n.setState({cart:e})})})}},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y().then(function(t){e.setState({items:t})}),C().then(function(t){e.setState({cart:t})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{margin:"0",padding:"0",height:"100%",display:"flex"}},r.a.createElement(S,{items:this.state.items,functionality:this.addToCart,btnValue:"Add to Cart",title:"Store"}),r.a.createElement(S,{items:this.state.cart,functionality:this.removeFromCart,title:"Cart",btnValue:"Remove item",style:{width:"350px"}})))}}]),t}(a.Component),I=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"Tacos for Edmundo!!!"),r.a.createElement("img",{src:"https://media.tenor.com/images/c80c99b8d22f51ed585cefa4d2d7562f/tenor.gif",alt:""})))},T=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={userName:"",password:"",user:null,newuser:!1,error:null},n.submit=function(e){e.preventDefault();var t={userName:n.state.userName,password:n.state.password};n.state.newuser?(t.newUser=!0,v(t).then(function(e){var t=e.userRedacted;e.token;localStorage.setItem("user",JSON.stringify(t)),n.setState({newUser:!1,user:t})})):v(t).then(function(e){var t=e.userResponse;e.token;localStorage.setItem("user",JSON.stringify(t)),n.setState({user:t})}).catch(function(e){console.log("it didnt work ".concat(e)),n.setState({error:"Login Failed, PLease try again."})})},n.handleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));e&&this.setState({user:e})}},{key:"render",value:function(){var e=this;return this.state.user?r.a.createElement(h.a,{to:"/admin"}):r.a.createElement("div",{style:{justifySelf:"center",display:"flex",flexDirection:"column",textAlign:"center",width:"500px",backgroundColor:"darkgrey",borderRadius:"20px",margin:"10% auto",padding:"5px"}},r.a.createElement("h1",null,"Admin Login"),this.state.error&&r.a.createElement("span",{style:{textAlign:"center",color:"red"}},this.state.error),r.a.createElement("form",{onSubmit:this.submit,style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"10px"}},r.a.createElement("div",{style:{width:"20%"}},r.a.createElement("label",null,"User Name: ")),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement("input",{type:"text",name:"userName",value:this.state.userName,onChange:this.handleChange,onFocus:function(){return e.setState({error:null})},placeholder:"User Name . . . ",style:{width:"100%"}}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"10px"}},r.a.createElement("div",{style:{width:"20%"}},r.a.createElement("label",null,"Password: ")),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,onFocus:function(){return e.setState({error:null,password:""})},placeholder:"Password . . . ",style:{width:"100%"}}))),r.a.createElement("div",{style:{width:"80%",placeSelf:"center",display:"flex",flexDirection:"row"}},r.a.createElement(f,{type:"submit",style:{width:"75%"}},"Login"),r.a.createElement(f,{onClick:function(){return e.setState({newuser:!0})},style:{width:"25%"}},"New User")),r.a.createElement("div",null,r.a.createElement("br",null))))}}]),t}(a.Component),V=function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",{style:{textAlign:"center"}},"404 Error"),r.a.createElement("p",null,"Please try a different location."),r.a.createElement("br",null))},A=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={path:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement("ul",{style:{listStyle:"none",display:"inline-grid",gridTemplateColumns:"20px auto 100px 100px 20px",width:"100%",backgroundColor:"grey"}},r.a.createElement("li",{style:{gridColumnStart:"2",gridColumnEnd:"span 1",alignSelf:"center"}},r.a.createElement(d.b,{to:"/",style:{textDecoration:"none",color:"black"}},r.a.createElement("h1",null,"The Awesome Store"))),r.a.createElement("li",{style:{placeSelf:"center"}},r.a.createElement(d.b,{to:"/",style:{gridColumnStart:"3",gridColumnEnd:"span 1",textDecoration:"none",color:"black"}},"Home")),r.a.createElement("li",{style:{placeSelf:"center"}},r.a.createElement(d.b,{to:"/admin/login",style:{gridColumnStart:"4",gridColumnEnd:"span 1",textDecoration:"none",color:"black"}},"Admin Login"))),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,component:j}),r.a.createElement(h.b,{path:"/admin",exact:!0,component:x}),r.a.createElement(h.b,{path:"/admin/login",component:T}),r.a.createElement(h.b,{path:"/tacos",component:I}),r.a.createElement(h.b,{component:V}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.6752c569.chunk.js.map